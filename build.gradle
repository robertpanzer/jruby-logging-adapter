plugins {
    id 'com.github.jruby-gradle.base' version '0.1.11'
}

apply plugin: 'java'

sourceCompatibility = 1.8
version = '1.0'


repositories {
    jcenter()
}

dependencies {
    compile group: 'org.jruby', name: 'jruby-complete', version: '1.7.18'
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile group: 'org.hamcrest', name: 'hamcrest-all', version: '1.3'
    gems 'rubygems:semantic_logger:2.11.0'
}

def gemFiles = fileTree(jruby.gemInstallDir) {
    include 'specifications/*.gemspec'
    include 'gems/*/lib/**'
}

task copyGems(type:Copy) {
    from gemFiles
    into sourceSets.main.output.resourcesDir
    dependsOn jrubyPrepareGems
}

processResources.dependsOn copyGems
